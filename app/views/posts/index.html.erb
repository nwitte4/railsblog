<h1>Listing posts</h1>


<%= link_to 'New Post', new_post_path %>

<table>
  <tr>
    <th>Title</th>
    <th>Text</th>
  </tr>

  <% @posts.each do |post| %>
    <tr>
      <td><%= post.title %></td>
      <td><%= post.text %></td>
      <% if post.user_id %>
      <td><%= User.find(post.user_id).username %></td>
      <% end %>
      <td><%= link_to 'Show', post_path(post) %></td>
      <% if current_user.id == post.user_id %>
      <td><%= link_to 'Edit', edit_post_path(post) %></td>
      <td><%= link_to 'Delete', post_path(post),
              method: :delete,
              data: { confirm: 'Are you sure?' } %></td>
              <% end %>
    </tr>
  <% end %>
</table>
