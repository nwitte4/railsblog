<h1>All Blog Posts</h1>

<div class="nav">
<%= link_to 'Write New Post', new_post_path %>
</div>

<table>

  <% @posts.each do |post| %>
    <tr class='text'>
      <td><%= post.title %></td>
      <% if post.user_id %>
      <td><small> Written by: <%= User.find(post.user_id).username %> </small></td>
      <% end %>
      <td><button class="button" type="button" name="button"><%= link_to 'Read', post_path(post) %></button></td>
      <% if current_user.id == post.user_id %>
      <td><button class="button" type="button" name="button"><%= link_to 'Edit', edit_post_path(post) %></button></td>
      <td><button class="button" type="button" name="button"><%= link_to 'Delete', post_path(post),
              method: :delete,
              data: { confirm: 'Are you sure?' } %></button></td>
              <% end %>
    </tr>
  <% end %>
</table>
